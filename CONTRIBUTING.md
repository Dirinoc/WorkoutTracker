# Как работать с git

## Переход на новый процесс работы
---

### Если у тебя еще нет репозитория

`git clone https://github.com/Dirinoc/WorkoutTracker`

### Если у тебя на компе старая версия репозитория

`git fetch --prune`

Что делает эта команда: подтягивает все обновления, которые произошли на удаленном репозитории (т. е. какие то обновы, которые прилетели с github). А флаг --prune подчищает все ветки, которые никак не используются и были удалены на github

## Процесс работы (пока без feature- веток)
---

1. Перейти в локальную ветку **develop**
2. Сделать свои изменения в коде локально
3. Сделать коммит
4. Залить изменения на удаленный репозиторий
5. ОДИН раз создать на github ПР (Pull request)


### Переход в develop

`git switch develop`

### Сделать свои изменения в коде

Теперь возьми за правило, что каждое твое одно логически цельное изменение = 1 коммит

### Сделать коммит

`git commit -m "something ref. #issue_id"`

Как писать коммит:
1. Все в настоящем времени (add, remove, fix, update)
2. Коротко и по делу, не забываем про то, что он = 1 логически цельному изменению в коде
3. В конце пиши `ref. #1`, или другой номер issue. Closes не всегда означает, что этот коммит именно закроет задачу.

### Залить изменения на удаленный репозиторий

`git push origin develop` - именно в develop

Можно также переписать немного историю коммитов, но это опасная штука, и пока что лучше не играй с этим. Потом научу, как это делать.

### Создать Pull Request

После того, как ты запушил изменения в ветку **develop**, нужно создать Pull Request (PR) на GitHub для мерджа в **master**.

**Важно:** ПР создается ОДИН раз для всей ветки develop. Дальше все последующие коммиты в develop будут автоматически добавляться в этот же PR.

1. Зайди на страницу репозитория: https://github.com/Dirinoc/WorkoutTracker
2. Сверху увидишь желтый баннер с кнопкой **"Compare & pull request"** (появляется после пуша) - нажми на нее
   - Если баннера нет, перейди на вкладку **"Pull requests"** → нажми **"New pull request"**
3. Выбери ветки для сравнения:
   - **base:** `master` (ветка, КУДА мерджим)
   - **compare:** `develop` (ветка, ОТКУДА мерджим)
4. Заполни информацию о PR:
   - **Title:** краткое описание того, что делает эта пачка изменений
   - **Description:** более подробное описание (можно перечислить основные изменения)
   - В описании можешь упомянуть issue: `ref. #1` или `closes #1`
5. Справа можешь выбрать:
   - **Reviewers:** выбери админа, который будет делать код-ревью
6. Нажми **"Create pull request"**

Что происходит со стороны проверяющего (qyteboii):

- Проверяющий получит уведомление о новом PR
- Он проведет код-ревью, оставит комментарии, если нужно что-то исправить
- Ты можешь продолжать пушить новые коммиты в develop - они автоматически добавятся в PR
- После одобрения проверяющий сделает мердж в master

Важно при мердже (для проверяющего):

При мердже PR нужно выбрать опцию **"Merge pull request"**.

**ОБЯЗАТЕЛЬНО:** После мерджа **НЕ удаляй ветку develop**! GitHub предложит кнопку "Delete branch" - НЕ нажимай её. Ветка develop должна остаться, так как это основная рабочая ветка проекта.
